<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FPNO Bus Management - Login</title>
    <link rel="icon" type="image/jpeg" href="images/favi.jpg">
    <link rel="stylesheet" href="duo.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <!-- Firebase Authentication -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <!-- Initialize Firebase -->
    <script src="scripts/firebase-init.js"></script>
    <style>
        @media (min-width: 769px) {
            .back-button {
                /* We'll position this dynamically so it sits 10px above the .container */
                display: block;
                position: absolute; /* top is set via script */
                left: 50%;
                transform: translateX(-50%);
                top: auto;
                z-index: 100;
                background: linear-gradient(90deg, #262626 0%, #ff3c3c 100%);
                color: #fff;
                border: none;
                /* pill-shaped, not edge-to-edge */
                border-radius: 999px;
                padding: 0.6rem 1.6rem;
                font-size: 1.05rem;
                font-weight: 600;
                box-shadow: 0 4px 16px rgba(220,26,26,0.15);
                cursor: pointer;
                transition: background 0.3s, transform 0.2s, box-shadow 0.3s;
                letter-spacing: 1px;
                outline: none;
                max-width: 220px; /* avoid stretching too wide */
                white-space: nowrap;
                text-overflow: ellipsis;
                overflow: hidden;
            }
            .back-button:hover, .back-button:focus {
                background: linear-gradient(90deg, #b80000 0%, #dc1a1a 100%);
                transform: translateX(-50%) scale(1.04);
                box-shadow: 0 8px 24px rgba(220,26,26,0.25);
            }
        }
        @media (max-width: 768px) {
            .back-button {
                display: none !important;
            }
        }
    </style>

    <script>
        // Position the back-button 10px above the .container on desktop widths.
        function positionBackButton() {
            var btn = document.querySelector('.back-button');
            var container = document.querySelector('.container');
            if (!btn || !container) return;
            if (window.innerWidth >= 769) {
                // container top relative to document
                var rect = container.getBoundingClientRect();
                var containerTop = rect.top + window.scrollY;
                var btnHeight = btn.offsetHeight || 40;
                var top = containerTop - btnHeight - 30; // 10px above
                // prevent negative top (in case container is very close to top)
                if (top < 8) top = 8;
                btn.style.top = top + 'px';
                btn.style.left = '50%';
                btn.style.transform = 'translateX(-50%)';
                btn.style.display = 'block';
            } else {
                btn.style.display = 'none';
            }
        }
        window.addEventListener('load', positionBackButton);
        window.addEventListener('resize', positionBackButton);
        window.addEventListener('orientationchange', positionBackButton);
    </script>
</head>
<body style="padding-top: 70px;">
    <a href="index.html" id="cancelButton" class="cancel-button">
        <i class="fas fa-times"></i>
    </a>

    <a href="index.html" class="back-button" aria-label="Back to Home">Back to Home</a>
    <div class="container">
        <div class="forms-container">
            <!-- Admin Login Form -->
            <div class="form-section admin-section" id="adminSection">
                <h2><i class="fas fa-user-shield"></i> Admin Login</h2>
                <form id="adminForm" autocomplete="off">
                    <div class="input-group">
                        <i class="fas fa-user"></i>
                        <input type="text" id="adminUsername" placeholder="Username (admin)" required autocomplete="new-password" readonly onfocus="this.removeAttribute('readonly');">
                    </div>
                    <div class="input-group">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="adminPassword" placeholder="Password (admin)" required autocomplete="new-password" readonly onfocus="this.removeAttribute('readonly');">
                        <i class="fas fa-eye password-toggle" data-target="adminPassword"></i>
                    </div>
                    <button type="submit">Login as Admin</button>
                </form>
            </div>

            <!-- Driver Login Form -->
            <div class="form-section driver-section" id="driverSection">
                <h2><i class="fas fa-id-card"></i> Driver Login</h2>
                <form id="driverForm" autocomplete="off">
                    <div class="input-group">
                        <i class="fas fa-user"></i>
                        <input type="text" id="driverUsername" placeholder="Driver Email" required autocomplete="new-password" readonly onfocus="this.removeAttribute('readonly');">
                    </div>
                    <div class="input-group">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="driverPassword" placeholder="Password" required autocomplete="new-password" readonly onfocus="this.removeAttribute('readonly');">
                        <i class="fas fa-eye password-toggle" data-target="driverPassword"></i>
                    </div>
                    <button type="submit">Login as Driver</button>
                </form>
                <p class="switch-form" style="text-align:center; margin-top: 24px; font-size: 1.08rem; color: #333;">
                    <span style="opacity:5;color: rgba(199, 199, 3, 0.833);font-size: 15px;font-weight: 300;margin-bottom: 13px;">Haven't registered with us?</span> 
                    <a href="signup.html" id="showAdminLink" style="
                        display: inline-block;
                        margin-left: 8px;
                        padding: 10px 23px;
                        border-radius: 20px;
                        background: linear-gradient(to right, #010101, #989595);
                        color: #fff;
                        font-weight: 300;
                        margin-top: 10px;
                        text-decoration: none;
                        box-shadow: 0 2px 10px -2px #ff1a1a55;
                        transition: background 0.3s, color 0.3s, box-shadow 0.3s;
                    "
                    onmouseover="this.style.background='linear-gradient(90deg,#000 0%,#ff1a1a 100%)';this.style.color='#fff';this.style.boxShadow='0 4px 16px -2px #000a';"
                    onmouseout="this.style.background='linear-gradient(90deg,#ff1a1a 60%,#000 100%)';this.style.color='#fff';this.style.boxShadow='0 2px 10px -2px #ff1a1a55';"
                    >Register as Driver</a>
                </p>
            </div>
        </div>

        <div class="form-footer">
                <p class="forgot-password">
                    <a href="#" id="forgotPasswordLink">Forgot Password?</a>
                </p>
            <p class="help-text">
                Need help? Contact system administrator
            </p>
        </div>
    </div>

    <!-- Alert Modal -->
    <div class="modal" id="alertModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <p id="modalMessage"></p>
        </div>
    </div>

    <script src="duo.js"></script>
</body>
</html>
